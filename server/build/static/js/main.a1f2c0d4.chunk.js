(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(10),l=t.n(o),i=(t(92),t(42)),c=t(29),u=t(79),s=t(145),m=t(146),d=t(35),g=t(17),f=t(15),p=t(25),b=t(44);function h(){var e=Object(b.a)(["\n  mutation AddBook($name: String!, $genre: String!, $authorId: ID!) {\n    addBook(name: $name, genre: $genre, authorId: $authorId) {\n      name\n      id\n    }\n  }\n"]);return h=function(){return e},e}function v(){var e=Object(b.a)(["\n  query GetBook($id: ID!) {\n    book(id: $id) {\n      name\n      id\n      genre\n      author {\n        id\n        name\n        age\n        books {\n          name\n          id\n        }\n      }\n    }\n  }\n"]);return v=function(){return e},e}function E(){var e=Object(b.a)(["\n  {\n    books {\n      id\n      name\n    }\n  }\n"]);return E=function(){return e},e}function k(){var e=Object(b.a)(["\n  {\n    authors {\n      name\n      age\n      id\n    }\n  }\n"]);return k=function(){return e},e}var j=Object(d.b)(k()),O=Object(d.b)(E()),y=Object(d.b)(v()),w=Object(d.b)(h()),I=t(104),N=t(53),x=Object(I.a)((function(e){return{root:{flexGrow:1,padding:e.spacing(8),backgroundColor:e.palette.background.paper}}}));function S(e){var n=e.bookId,t=x(),a=Object(p.b)(y,{variables:{id:n}}),o=a.loading,l=a.error,i=a.data;return r.a.createElement("div",{className:t.root},r.a.createElement(N.a,{component:"p",variant:"subtitle1"},"Book details goes here"),o?r.a.createElement("p",null,"Loading..."):l?r.a.createElement("h2",null,"No Selected Book"):r.a.createElement("div",null,r.a.createElement("h2",null,i.book.name),r.a.createElement("p",null,i.book.genre),r.a.createElement("p",null,"All books by this author"),r.a.createElement("ul",null,i.book.author.books.map((function(e){return r.a.createElement("li",{key:e.id},e.name)})))))}var W=t(135),B=t(102),C=t(136),A=Object(I.a)((function(e){return{root:{padding:e.spacing(8),flexGrow:1},flex:Object(f.a)({width:"100%",display:"flex"},e.breakpoints.down("sm"),{flexDirection:"column"}),list:{backgroundColor:e.palette.background.paper}}}));function $(){var e=A(),n=Object(p.b)(O),t=n.loading,o=n.error,l=n.data,i=Object(a.useState)(null),u=Object(c.a)(i,2),s=u[0],m=u[1];if(o)return r.a.createElement("p",null,"Failed to fetch data");return r.a.createElement("div",{className:e.flex},r.a.createElement("div",{className:e.root},r.a.createElement(N.a,{variant:"subtitle1",component:"p"},"Ninja's reading list"),r.a.createElement(W.a,{className:e.list},t?r.a.createElement(B.a,null,r.a.createElement(C.a,{primary:"Loading..."})):l.books.map((function(e){var n=e.id,t=e.name;return r.a.createElement(B.a,{key:n,onClick:function(){return function(e){m(e)}(n)},button:!0},r.a.createElement(C.a,{primary:t}))})))),r.a.createElement(S,{bookId:s}))}var F=t(103),T=t(148),G=t(139),L=t(150),U=t(147),D=t(140),R=t(141),P=t(75),q=t.n(P),J=Object(I.a)((function(e){return{root:{padding:e.spacing(8)},textField:{marginBottom:e.spacing(4)}}})),Q={name:"",genre:"",authorId:""};function H(){var e=J(),n=Object(a.useState)(Q),t=Object(c.a)(n,2),o=t[0],l=t[1],u=Object(p.b)(j),s=u.loading,m=u.error,d=u.data,g=Object(p.a)(w),b=Object(c.a)(g,1)[0];if(m)return r.a.createElement("p",null,"Error...");var h=function(e){e.persist(),l((function(n){return Object(i.a)({},n,Object(f.a)({},e.target.name,e.target.value))}))};return r.a.createElement(F.a,{component:"form",className:e.root,onSubmit:function(e){e.preventDefault(),b({variables:{name:o.name,genre:o.genre,authorId:o.authorId},refetchQueries:[{query:O}]}),l(Q)}},r.a.createElement(T.a,{label:"Name",value:o.name,onChange:h,variant:"outlined",multiline:!0,fullWidth:!0,className:e.textField,InputProps:{name:"name"}}),r.a.createElement(T.a,{label:"Genre",value:o.genre,onChange:h,variant:"outlined",multiline:!0,fullWidth:!0,className:e.textField,InputProps:{name:"genre"}}),r.a.createElement(G.a,{variant:"outlined",className:e.textField,fullWidth:!0},r.a.createElement(L.a,{id:"author"},"Author"),r.a.createElement(U.a,{labelId:"author",id:"author",name:"authorId",value:o.authorId,onChange:h},r.a.createElement(D.a,{value:""},r.a.createElement("em",null,"None")),s?r.a.createElement(D.a,null,"Loading..."):d.authors.map((function(e){var n=e.name,t=(e.age,e.id);return r.a.createElement(D.a,{key:t,value:t},n)})))),r.a.createElement(R.a,{color:"primary","aria-label":"add",type:"submit",disabled:!(o.name&&o.genre&&o.authorId)},r.a.createElement(q.a,null)))}var M={typography:{useNextVariants:!0,suppressDeprecationWarnings:!0,fontFamily:["Quicksand","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},palette:{type:"light",primary:{light:"#4791db",main:"#1976d2",dark:"#115293",contrastText:"#fefefe"},secondary:{light:"#e33371",main:"#dc004e",dark:"#9a0036"},success:{light:"#81c784",main:"#4caf50",dark:"#388e3c"},contrastThreshold:3,tonalOffset:.2}},V=t(76),z=t(142),K=t(143),X=t(144),Y=t(77),Z=t.n(Y),_=t(78),ee=t.n(_),ne=t(80),te=Object(V.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function ae(e){var n=e.onToggle,t=te(),a=Object(ne.a)();return r.a.createElement("div",{className:t.root},r.a.createElement(z.a,{position:"static",color:"light"===a.palette.type?"primary":"inherit"},r.a.createElement(K.a,null,r.a.createElement(X.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",onClick:n},"light"===a.palette.type?r.a.createElement(Z.a,null):r.a.createElement(ee.a,null)),r.a.createElement(N.a,{variant:"h6",className:t.title},"Ninja's List"))))}function re(e){var n=e.children,t=e.onToggle;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae,{onToggle:t}),n)}var oe=new d.a({uri:"/graphql"}),le=function(){var e=Object(a.useState)(M),n=Object(c.a)(e,2),t=n[0],r=n[1],o=t.palette.type;return[t,function(){var e=Object(i.a)({},t,{palette:Object(i.a)({},t.palette,{type:"light"===o?"dark":"light"})});r(e)}]};var ie=function(){var e=le(),n=Object(c.a)(e,2),t=n[0],a=n[1],o=Object(u.a)(t);return r.a.createElement(g.a,{client:oe},r.a.createElement(s.a,{theme:o},r.a.createElement(m.a,null),r.a.createElement(re,{onToggle:a},r.a.createElement("div",null,r.a.createElement($,null),r.a.createElement(H,null)))))},ce=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ue(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(r.a.createElement(ie,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("","/service-worker.js");ce?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ue(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ue(n,e)}))}}()},87:function(e,n,t){e.exports=t(101)},92:function(e,n,t){}},[[87,1,2]]]);
//# sourceMappingURL=main.a1f2c0d4.chunk.js.map